<?xml version="1.0" encoding="UTF-8"?>
<TestPlan guiclass="TestPlanGUI" testclass="TestPlan" testname="Hash Service Test Plan" enabled="true">
  <hashTree>
    <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="Thread Group" enabled="true">
      <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
      <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
        <boolProp name="LoopController.continuous">false</boolProp>
        <intProp name="LoopController.loops">1</intProp>
      </elementProp>
      <stringProp name="ThreadGroup.num_threads">50</stringProp> <!-- Max number of threads (users) -->
      <stringProp name="ThreadGroup.ramp_time">10</stringProp> <!-- Ramp-up time in seconds -->
      <stringProp name="ThreadGroup.duration">3600</stringProp> <!-- Duration in seconds (1 hour) -->
      <stringProp name="ThreadGroup.scheduler">true</stringProp>
      <stringProp name="ThreadGroup.start_time">2025-05-08 00:00:00</stringProp>
      <stringProp name="ThreadGroup.end_time">2025-05-08 01:00:00</stringProp>
      <stringProp name="ThreadGroup.delay">0</stringProp>

      <hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="Random Loop Controller" enabled="true">
          <boolProp name="LoopController.continuous">false</boolProp>
          <intProp name="LoopController.loops">${__Random(1,50)}</intProp> <!-- Random number of requests between 1 and 50 -->
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="Send SHA256 Request" enabled="true">
            <stringProp name="HTTPSampler.domain">192.168.49.102</stringProp>
            <stringProp name="HTTPSampler.port">3005</stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.path">/hash/sha256</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <stringProp name="HTTPSampler.body_data">"test"</stringProp>
            <stringProp name="HTTPSampler.filename"></stringProp>
            <stringProp name="HTTPSampler.parameters"></stringProp>
            <stringProp name="HTTPSampler.responseTimeout">30000</stringProp>
            <stringProp name="HTTPSampler.connectTimeout">30000</stringProp>
          </HTTPSamplerProxy>

          <hashTree>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="Results" enabled="true">
              <stringProp name="filename">test_results/hash_gen_jmx_results.csv</stringProp>
            </ResultCollector>
          </hashTree>
        </hashTree>
      </hashTree>
    </ThreadGroup>
  </hashTree>
</TestPlan>
